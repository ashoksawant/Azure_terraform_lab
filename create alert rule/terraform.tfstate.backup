{
  "version": 4,
  "terraform_version": "1.10.5",
  "serial": 208,
  "lineage": "a7c185a8-f2c1-7062-1c53-379bd95cfef3",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "azurerm_resource_group",
      "name": "rgname",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox",
            "location": "eastus",
            "managed_by": "",
            "name": "1-56966972-playground-sandbox",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.alerts[\"APIManagement_CpuPercent_Gateway_35\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"CpuPercent_Gateway\" and ResourceId contains \"MICROSOFT.APIMANAGEMENT/SERVICE\"\r\n| summarize Result = avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for CPU Percentage of Gateway for SKUv2 services",
            "display_name": "APIManagement_CpuPercent_Gateway_alert",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/APIManagement_CpuPercent_Gateway_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "APIManagement_CpuPercent_Gateway_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"APIManagement_Duration_of_Backend_Requests_29\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "  AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"BackendDuration\" and ResourceId contains \"MICROSOFT.APIMANAGEMENT/SERVICE\"\r\n| summarize Result = avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 5000,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Duration of Backend Requests in milliseconds.",
            "display_name": "APIManagement_Duration_of_Backend_Requests",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/APIManagement_Duration_of_Backend_Requests",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "APIManagement_Duration_of_Backend_Requests",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"APIManagement_EventHubDroppedEvents_31\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(1h)\r\n| where MetricName == \"EventHubDroppedEvents\" and ResourceId contains \"MICROSOFT.APIMANAGEMENT/SERVICE\"\r\n| summarize Result = sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 50,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Number of events skipped because of queue size limit reached",
            "display_name": "APIManagement_EventHubDroppedEvents_alert",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/APIManagement_EventHubDroppedEvents_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "APIManagement_EventHubDroppedEvents_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"APIManagement_EventHubRejectedEvents_32\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(1h)\r\n| where MetricName == \"EventHubRejectedEvents\" and ResourceId contains \"MICROSOFT.APIMANAGEMENT/SERVICE\"\r\n| summarize Result = sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 50,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Number of rejected EventHub events (wrong configuration or unauthorized)",
            "display_name": "APIManagement_EventHubRejectedEvents_alert",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/APIManagement_EventHubRejectedEvents_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "APIManagement_EventHubRejectedEvents_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"APIManagement_EventHubTimedoutEvents_33\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(1h)\r\n| where MetricName == \"EventHubTimedoutEvents\" and ResourceId contains \"MICROSOFT.APIMANAGEMENT/SERVICE\"\r\n| summarize Result = sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 50,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Number of timed out EventHub events",
            "display_name": "APIManagement_EventHubTimedoutEvents_alert",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/APIManagement_EventHubTimedoutEvents_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "APIManagement_EventHubTimedoutEvents_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"APIManagement_EventHubTotalFailedEvents_34\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(1h)\r\n| where MetricName == \"EventHubTotalFailedEvents\" and ResourceId contains \"MICROSOFT.APIMANAGEMENT/SERVICE\"\r\n| summarize Result = sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 50,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Number of failed EventHub events",
            "display_name": "APIManagement_EventHubTotalFailedEvents_alert",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/APIManagement_EventHubTotalFailedEvents_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "APIManagement_EventHubTotalFailedEvents_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"APIManagement_MemoryPercent_Gateway_36\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"MemoryPercent_Gateway\" and ResourceId contains \"MICROSOFT.APIMANAGEMENT/SERVICE\"\r\n| summarize Result = avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for Memory Percentage of Gateway for SKUv2 services",
            "display_name": "APIManagement_MemoryPercent_Gateway_alert",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/APIManagement_MemoryPercent_Gateway_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "APIManagement_MemoryPercent_Gateway_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"APIManagement_capacity_29\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"Capacity\" and ResourceId contains \"MICROSOFT.APIMANAGEMENT/SERVICE\"\r\n| summarize Result = avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for Utilization metric for ApiManagement service",
            "display_name": "APIManagement_capacity_alert",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/APIManagement_capacity_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "APIManagement_capacity_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 1,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"APIManagement_duration_30\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n//| where TimeGenerated \u003e= ago(3m)\r\n| where MetricName == \"Duration\" and ResourceId contains \"MICROSOFT.APIMANAGEMENT/SERVICE\"\r\n| summarize Result = avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 3m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 1500,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for Overall Duration of Gateway Requests in milliseconds",
            "display_name": "APIManagement_duration_alert",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/APIManagement_duration_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "APIManagement_duration_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"ApplicationGateway_BlockedCount_37\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(1m)\r\n| where MetricName == \"BlockedCount\" and ResourceId contains \"MICROSOFT.NETWORK/APPLICATIONGATEWAYS\"\r\n| summarize Result = sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 1m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 10,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Web Application Firewall blocked requests rule distribution",
            "display_name": "ApplicationGateway_BlockedCount_alert",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/ApplicationGateway_BlockedCount_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "ApplicationGateway_BlockedCount_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"ApplicationGateway_BlockedReqCount_38\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == \"BlockedReqCount\" and ResourceId contains \"MICROSOFT.NETWORK/APPLICATIONGATEWAYS\"\r\n| summarize Result = sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 10,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Web Application Firewall blocked requests count",
            "display_name": "ApplicationGateway_BlockedReqCount_alert",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/ApplicationGateway_BlockedReqCount_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "ApplicationGateway_BlockedReqCount_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"ApplicationGateway_CurrentConnections_39\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == \"CurrentConnections\" and ResourceId contains \"MICROSOFT.NETWORK/APPLICATIONGATEWAYS\"\r\n| summarize Result = sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 2500,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Count of current connections established with Application Gateway",
            "display_name": "ApplicationGateway_CurrentConnections_alert",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/ApplicationGateway_CurrentConnections_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "ApplicationGateway_CurrentConnections_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"ApplicationGateway_FailedRequests_40\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == \"FailedRequests\" and ResourceId contains \"MICROSOFT.NETWORK/APPLICATIONGATEWAYS\"\r\n| summarize Result = sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 100,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Count of failed requests that Application Gateway has served",
            "display_name": "ApplicationGateway_FailedRequests_alert",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/ApplicationGateway_FailedRequests_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "ApplicationGateway_FailedRequests_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"ApplicationGateway_TotalRequests_41\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(1m)\r\n| where MetricName == \"TotalRequests\" and ResourceId contains \"MICROSOFT.NETWORK/APPLICATIONGATEWAYS\"\r\n| summarize Result = sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 1m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 15000,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Count of successful requests that Application Gateway has served",
            "display_name": "ApplicationGateway_TotalRequests_alert",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/ApplicationGateway_TotalRequests_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "ApplicationGateway_TotalRequests_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"ApplicationGateway_UnhealthyHostCount_42\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"UnhealthyHostCount\" and ResourceId contains \"MICROSOFT.NETWORK/APPLICATIONGATEWAYS\"\r\n| summarize Result = avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 1,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for Number of unhealthy backend hosts",
            "display_name": "ApplicationGateway_UnhealthyHostCount_alert",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/ApplicationGateway_UnhealthyHostCount_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "ApplicationGateway_UnhealthyHostCount_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 1,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"ApplicationInsights_availability_45\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "LessThan",
                "query": "AzureMetrics\r\n| where MetricName == \"Availability\" and ResourceId contains \"MICROSOFT.INSIGHTS/COMPONENTS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 80,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Percentage of successfully completed availability tests",
            "display_name": "Availability",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/Availability",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "Availability",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 0,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"Container_Registry_StorageUsed_56\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"StorageUsed\" and ResourceId contains \"MICROSOFT.CONTAINERREGISTRY/REGISTRIES\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 36,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for the amount of storage used by the container registry",
            "display_name": "Container_Registry_StorageUsed_alert",
            "enabled": true,
            "evaluation_frequency": "PT30M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/Container_Registry_StorageUsed_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "Container_Registry_StorageUsed_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"DataFactoryV2_ActivityFailedRuns_46\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "AzureMetrics\r\n| where MetricName == \"ActivityFailedRuns\" and ResourceId contains \"MICROSOFT.DATAFACTORY/FACTORIES\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 10,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "ActivityType, PipelineName, FailureType, Name",
            "display_name": "Failed activity runs metrics",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/Failed activity runs metrics",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "Failed activity runs metrics",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"DataFactoryV2_IntegrationRuntimeCpuPercentage_47\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"IntegrationRuntimeCpuPercentage\" and ResourceId contains \"MICROSOFT.DATAFACTORY/FACTORIES\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Integration runtime CPU utilization",
            "display_name": "Integration runtime CPU utilization",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/Integration runtime CPU utilization",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "Integration runtime CPU utilization",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"DataFactoryV2_PipelineFailedRuns_52\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"PipelineFailedRuns\" and ResourceId contains \"MICROSOFT.DATAFACTORY/FACTORIES\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 3,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Failed pipeline runs metrics",
            "display_name": "DataFactoryV2_PipelineFailedRuns_alert",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/DataFactoryV2_PipelineFailedRuns_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "DataFactoryV2_PipelineFailedRuns_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 0,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"DataFactoryV2_SSISIntegrationRuntimeStartFailed_48\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"SSISIntegrationRuntimeStartFailed\" and ResourceId contains \"MICROSOFT.DATAFACTORY/FACTORIES\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 3,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Failed SSIS integration runtime start metrics",
            "display_name": "Failed SSIS integration runtime start metrics",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/Failed SSIS integration runtime start metrics",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "Failed SSIS integration runtime start metrics",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"DataFactoryV2_SSISIntegrationRuntimeStopStuck_49\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"SSISIntegrationRuntimeStopStuck\" and ResourceId contains \"MICROSOFT.DATAFACTORY/FACTORIES\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 3,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Stuck SSIS integration runtime stop metrics",
            "display_name": "Stuck SSIS integration runtime stop metrics",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/Stuck SSIS integration runtime stop metrics",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "Stuck SSIS integration runtime stop metrics",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 0,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"DataFactoryV2_SSISPackageExecutionFailed_50\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"SSISPackageExecutionFailed\" and ResourceId contains \"MICROSOFT.DATAFACTORY/FACTORIES\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 3,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for failed SSIS package execution metrics",
            "display_name": "DataFactoryV2_SSISPackageExecutionFailed_alert",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/DataFactoryV2_SSISPackageExecutionFailed_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "DataFactoryV2_SSISPackageExecutionFailed_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 0,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"DataFactoryV2_TriggerFailedRuns_51\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"TriggerFailedRuns\" and ResourceId contains \"MICROSOFT.DATAFACTORY/FACTORIES\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 3,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for failed trigger runs metrics",
            "display_name": "DataFactoryV2_TriggerFailedRuns_alert",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/DataFactoryV2_TriggerFailedRuns_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "DataFactoryV2_TriggerFailedRuns_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 0,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"Key_Vault_Availability_53\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "LessThan",
                "query": "AzureMetrics\r\n| where MetricName == \"Availability\" and ResourceId contains \"MICROSOFT.KEYVAULT/VAULTS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 0.98,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for Vault requests availability",
            "display_name": "Key_Vault_Availability_alert",
            "enabled": true,
            "evaluation_frequency": "PT10M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/Key_Vault_Availability_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "Key_Vault_Availability_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"LogicAppStd_WorkflowRunsFailureRate_55\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"WorkflowRunsFailureRate\" and ResourceId contains \"MICROSOFT.WEB/SITES\"\r\n| summarize Result= sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 1d)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Workflow Runs Failure Rate For LogicApps only",
            "display_name": "LogicAppStd_WorkflowRunsFailureRate_alert",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/LogicAppStd_WorkflowRunsFailureRate_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "LogicAppStd_WorkflowRunsFailureRate_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "P1D",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"LogicApp_Action_Latency_21\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"ActionLatency\" and ResourceId contains \"MICROSOFT.LOGIC/WORKFLOWS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 5,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Latency of completed workflow actions.",
            "display_name": "LogicApp_Action_Latency",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/LogicApp_Action_Latency",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "LogicApp_Action_Latency",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"LogicApp_Actions_Failed_28\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "  AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"ActionsFailed\" and ResourceId contains \"MICROSOFT.LOGIC/WORKFLOWS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 10,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Number of workflow actions failed.",
            "display_name": "LogicApp_Actions_Failed",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/LogicApp_Actions_Failed",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "LogicApp_Actions_Failed",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"LogicApp_Actions_Skipped_22\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(1h)\r\n| where MetricName == \"ActionsSkipped\" and ResourceId contains \"MICROSOFT.LOGIC/WORKFLOWS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 10,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Number of workflow actions skipped.",
            "display_name": "LogicApp_Actions_Skipped",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/LogicApp_Actions_Skipped",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "LogicApp_Actions_Skipped",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"LogicApp_Run_Failure_Percentage_23\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == \"RunFailurePercentage\" and ResourceId contains \"MICROSOFT.LOGIC/WORKFLOWS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 80,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Percentage of workflow runs failed.",
            "display_name": "LogicApp_Run_Failure_Percentage",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/LogicApp_Run_Failure_Percentage",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "LogicApp_Run_Failure_Percentage",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 1,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"LogicApp_Run_Latency_24\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "  AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"RunLatency\" and ResourceId contains \"MICROSOFT.LOGIC/WORKFLOWS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 5,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Latency of completed workflow runs.",
            "display_name": "LogicApp_Run_Latency",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/LogicApp_Run_Latency",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "LogicApp_Run_Latency",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"LogicApp_Runs_Failed_25\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "  AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"RunsFailed\" and ResourceId contains \"MICROSOFT.LOGIC/WORKFLOWS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 10,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Number of workflow runs failed.",
            "display_name": "LogicApp_Runs_Failed",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/LogicApp_Runs_Failed",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "LogicApp_Runs_Failed",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"LogicApp_Trigger_Latency_26\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "  AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"TriggerLatency\" and ResourceId contains \"MICROSOFT.LOGIC/WORKFLOWS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 5,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Latency of completed workflow triggers.",
            "display_name": "LogicApp_Trigger_Latency",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/LogicApp_Trigger_Latency",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "LogicApp_Trigger_Latency",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"LogicApp_Triggers_Failed_27\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "  AzureMetrics\r\n| where TimeGenerated \u003e= ago(1h)\r\n| where MetricName == \"TriggersFailed\" and ResourceId contains \"MICROSOFT.LOGIC/WORKFLOWS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 1h)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 10,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Number of workflow triggers failed.",
            "display_name": "LogicApp_Triggers_Failed",
            "enabled": true,
            "evaluation_frequency": "PT1H",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/LogicApp_Triggers_Failed",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "LogicApp_Triggers_Failed",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT1H",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"SQLDatabaseDWUpercentage_16\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"dwu_consumption_percent\" and ResourceId contains \"MICROSOFT.SQL/SERVERS\"\r\n| summarize Result= max(Maximum) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Maximum"
              }
            ],
            "description": "DWU percentage. Applies only to data warehouses.",
            "display_name": "SQLDatabase_DWU_percentage",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/SQLDatabase_DWU_percentage",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "SQLDatabase_DWU_percentage",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"SQLDatabase_Data_space_used_percent_18\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"storage_percent\" and ResourceId contains \"MICROSOFT.SQL/SERVERS\"\r\n| summarize Result = max(Maximum) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Maximum"
              }
            ],
            "description": "Data space used percent. Not applicable to data warehouses or hyperscale databases.",
            "display_name": "SQLDatabase_Data_space_used_percent",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/SQLDatabase_Data_space_used_percent",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "SQLDatabase_Data_space_used_percent",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 1,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"SQLDatabase_Local_tempdb_percentage_19\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == \"local_tempdb_usage_percent\" and ResourceId contains \"MICROSOFT.SQL/SERVERS\"\r\n| summarize Result = avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Local tempdb percentage. Applies only to data warehouses.",
            "display_name": "SQLDatabase_Local_tempdb_percentage",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/SQLDatabase_Local_tempdb_percentage",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "SQLDatabase_Local_tempdb_percentage",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 1,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"SQLDatabase_Log_IO_percentage_20\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == \"log_write_percent\" and ResourceId contains \"MICROSOFT.SQL/SERVERS\"\r\n| summarize Result = avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Log IO percentage. Not applicable to data warehouses.",
            "display_name": "SQLDatabase_Log_IO_percentage",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/SQLDatabase_Log_IO_percentage",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "SQLDatabase_Log_IO_percentage",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"SQLDatabase_Memory_percentage_17\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThanOrEqual",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"memory_usage_percent\" and ResourceId contains \"MICROSOFT.SQL/SERVERS\"\r\n| summarize Result= max(Maximum) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Maximum"
              }
            ],
            "description": "Memory percentage. Applies only to data warehouses.",
            "display_name": "SQLDatabase_Memory_percentage",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/SQLDatabase_Memory_percentage",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "SQLDatabase_Memory_percentage",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"SQLdb_blocked_by_firewall_12\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == \"blocked_by_firewall\" and ResourceId contains \"MICROSOFT.SQL/SERVERS\"\r\n| summarize Result= sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 10,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for sql db Blocked by Firewall based on Azure Metrics",
            "display_name": "SQLdb_blocked_by_firewall",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/SQLdb_blocked_by_firewall",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "SQLdb_blocked_by_firewall",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"SQLdb_connection_failed_13\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == \"connection_failed\" and ResourceId contains \"MICROSOFT.SQL/SERVERS\"\r\n| summarize Result= sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 20,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for sql db Blocked by Firewall based on Azure Metrics",
            "display_name": "SQLdb_connection_failed",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/SQLdb_connection_failed",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "SQLdb_connection_failed",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"SQLdb_cpu_1\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"cpu_percent\" and ResourceId contains \"MICROSOFT.SQL/SERVERS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for sql db CPU based on Azure Metrics",
            "display_name": "SQLdb_cpu",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/SQLdb_cpu",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "SQLdb_cpu",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"SQLdb_dtu_consumption_percent_14\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == \"dtu_consumption_percent\" and ResourceId contains \"MICROSOFT.SQL/SERVERS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for sql db DTU Percentage. Applies to DTU-based databases.",
            "display_name": "SQLdb_dtu_consumption_percent",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/SQLdb_dtu_consumption_percent",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "SQLdb_dtu_consumption_percent",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"ServiceBusNamespace_AbandonMessage_43\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == 'AbandonMessage' and ResourceId contains 'MICROSOFT.SERVICEBUS/NAMESPACES' \r\n| summarize Result=sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 100,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for Abandoned Messages",
            "display_name": "ServiceBusNamespace_AbandonMessage_alert",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/ServiceBusNamespace_AbandonMessage_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "ServiceBusNamespace_AbandonMessage_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"ServiceBusNamespace_ServerSendLatency_44\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == \"ServerSendLatency\" and ResourceId contains \"MICROSOFT.SERVICEBUS/NAMESPACE\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 1500,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for Server Send Latency",
            "display_name": "ServiceBusNamespace_ServerSendLatency_alert",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/ServiceBusNamespace_ServerSendLatency_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "ServiceBusNamespace_ServerSendLatency_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"Storage_Account_Availability_54\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "LessThan",
                "query": "AzureMetrics\r\n| where MetricName == \"Availability\" and ResourceId contains \"MICROSOFT.STORAGE/STORAGEACCOUNTS\"\r\n| summarize Result= avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 98,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for the percentage of availability for the storage service or the specified API operation",
            "display_name": "Storage_Account_Availability_alert",
            "enabled": true,
            "evaluation_frequency": "PT10M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/Storage_Account_Availability_alert",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "Storage_Account_Availability_alert",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_HealthCheckStatus_11\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == 'HealthCheckStatus' and ResourceId contains 'MICROSOFT.WEB/SITES' \r\n| summarize Result=avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 5,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for app service Http 404 based on Azure metric. The count of requests resulting in HTTP 404 status code.",
            "display_name": "app_service_HealthCheckStatus",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_HealthCheckStatus",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_HealthCheckStatus",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 1,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_Http404_10\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == 'Http404' and ResourceId contains 'MICROSOFT.WEB/SITES' \r\n| summarize Result=sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 15,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for app service Http 404 based on Azure metric. The count of requests resulting in HTTP 404 status code.",
            "display_name": "app_service_Http404",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_Http404",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_Http404",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 1,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_Http5XX_7\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == 'Http5xx' and ResourceId contains 'MICROSOFT.WEB/SITES' \r\n| summarize Result=sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 15,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for app service Http 5XX. The count of requests resulting in an HTTP status code = 500 but \u003c 600.",
            "display_name": "app_service_Http5XX",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_Http5XX",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_Http5XX",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 2,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_HttpResponseTime_8\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == 'HttpResponseTime' and ResourceId contains 'MICROSOFT.WEB/SITES' \r\n| summarize Result=avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 10,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for app service Http Response Time based on Azure metric. The time taken for the app to serve requests, in seconds.",
            "display_name": "app_service_HttpResponseTime",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_HttpResponseTime",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_HttpResponseTime",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_Requests_9\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == 'Requests' and ResourceId contains 'MICROSOFT.WEB/SITES' \r\n| summarize Result=sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 1000,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for app service requests based on Azure metric. The total number of requests regardless of their resulting HTTP status code.",
            "display_name": "app_service_Requests",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_Requests",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_Requests",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_cpu_2\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == 'CpuPercentage' and ResourceId contains 'MICROSOFT.WEB/SERVERFARMS' \r\n| summarize Result=avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for app service CPU based on Azure Metrics",
            "display_name": "app_service_cpu",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_cpu",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_cpu",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 1,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_disk_queue_length_3\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == 'DiskQueueLength' and ResourceId contains 'MICROSOFT.WEB/SERVERFARMS' \r\n| summarize Result=sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 15,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for app service DiskQueueLength based on Azure Metrics",
            "display_name": "app_service_disk_queue_length",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_disk_queue_length",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_disk_queue_length",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_http401_6\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where TimeGenerated \u003e= ago(5m)\r\n| where MetricName == 'Http401' and ResourceId contains 'MICROSOFT.WEB/SITES' \r\n| summarize Result=sum(Total) by Resource, _ResourceId, bin(TimeGenerated, 5m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 50,
                "time_aggregation_method": "Total"
              }
            ],
            "description": "Alert for app service Http 401 based on Azure Metrics",
            "display_name": "app_service_http401",
            "enabled": true,
            "evaluation_frequency": "PT1M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_http401",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_http401",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT5M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_http_queue_length_4\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics\r\n| where MetricName == 'HttpQueueLength' and ResourceId contains 'MICROSOFT.WEB/SERVERFARMS' \r\n| summarize Result=avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 15,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for app service HttpQueueLength based on Azure Metrics",
            "display_name": "app_service_http_queue_length",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_http_queue_length",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_http_queue_length",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 3,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    },
    {
      "module": "module.alerts[\"app_service_memory_5\"]",
      "mode": "managed",
      "type": "azurerm_monitor_scheduled_query_rules_alert_v2",
      "name": "paas_alert_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "action_groups": [
                  "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/microsoft.insights/actiongroups/action1"
                ],
                "custom_properties": null
              }
            ],
            "auto_mitigation_enabled": false,
            "created_with_api_version": "2023-03-15-preview",
            "criteria": [
              {
                "dimension": [],
                "failing_periods": [
                  {
                    "minimum_failing_periods_to_trigger_alert": 1,
                    "number_of_evaluation_periods": 1
                  }
                ],
                "metric_measure_column": "Result",
                "operator": "GreaterThan",
                "query": "AzureMetrics \r\n| where TimeGenerated \u003e= ago(15m)\r\n| where MetricName == 'MemoryPercentage' and ResourceId contains 'MICROSOFT.WEB/SERVERFARMS' \r\n| summarize Result=avg(Average) by Resource, _ResourceId, bin(TimeGenerated, 15m)\r\n",
                "resource_id_column": "_ResourceId",
                "threshold": 90,
                "time_aggregation_method": "Average"
              }
            ],
            "description": "Alert for app service memory based on Azure Metrics",
            "display_name": "app_service_memory",
            "enabled": true,
            "evaluation_frequency": "PT5M",
            "id": "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourceGroups/1-56966972-playground-sandbox/providers/Microsoft.Insights/scheduledQueryRules/app_service_memory",
            "identity": [],
            "is_a_legacy_log_analytics_rule": false,
            "is_workspace_alerts_storage_configured": false,
            "location": "eastus",
            "mute_actions_after_alert_duration": "",
            "name": "app_service_memory",
            "query_time_range_override": "",
            "resource_group_name": "1-56966972-playground-sandbox",
            "scopes": [
              "/subscriptions/2213e8b1-dbc7-4d54-8aff-b5e315df5e5b/resourcegroups/1-56966972-playground-sandbox/providers/microsoft.operationalinsights/workspaces/worksapce1"
            ],
            "severity": 1,
            "skip_query_validation": false,
            "tags": null,
            "target_resource_types": null,
            "timeouts": null,
            "window_duration": "PT15M",
            "workspace_alerts_storage_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_resource_group.rgname"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
